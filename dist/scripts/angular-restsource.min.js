!function(){"use strict";var a=function(b,c,d,e){function f(a){return angular.extend(h.httpConfig,a)}function g(a){return angular.forEach(h.responseInterceptors,function(b){a=b(a)}),a}var h=angular.extend({idField:"id",responseInterceptors:[],httpConfig:{}},e),i=this;Object.defineProperty(this,"rootUrl",{get:function(){return d}}),this.create=function(a,c){return g(b.put(d,a,f(c)))},this.read=function(a,c){var e=[d];return a&&e.push(a),g(b.get(e.join("/"),f(c)))},this.update=function(a,c){return g(b.post(d,a,f(c)))},this.save=function(a,b){return a[h.idField]?i.update(a,f(b)):i.create(a,f(b))},this.list=function(a,c,e){return e=angular.extend({params:{page:a,perPage:c}},e),g(b.get(d,f(e)))},this.delete=function(a,c){var e=[d];return a&&e.push(a),g(b.delete(e.join("/"),f(c)))},this.clone=function(e){return new a(b,c,d,angular.extend(h,e))}};angular.module("angular-restsource",[]).config(["$provide",function(b){b.provider("restsource",function(){this.provide=function(a,c){return b.provider(a,function(){var a=this,b={},d=[],e=!0;this.httpConfig=function(c){return b=c,a},this.useBodyResponseInterceptor=function(b){return e=b,a},this.addResponseInterceptor=function(b){return d.push(b),a},this.$get=function(a,f){e&&d.push("bodyResponseInterceptor");var g=[];return angular.forEach(d,function(b){g.push(angular.isString(b)?a.get(b):a.invoke(b))}),f(c,{httpConfig:b,responseInterceptors:g})},this.$get.$inject=["$injector","restsource"]})},this.$get=function(b,c){return function(d,e){return new a(b,c,d,e)}},this.$get.$inject=["$http","$q"]}),b.factory("bodyResponseInterceptor",["$q",function(a){return function(b){var c=b.then(function(b){return b.data.error||!b.data.body?a.reject(b):b.data.body});return c.success=function(a){return b.then(function(b){a(b.data.body,b.status,b.headers,b.config)}),c},c.error=function(a){return b.then(null,function(b){a(b.data.error,b.status,b.headers,b.config)}),c},c}}])}])}();